{% extends "base/base.html" %}

{% block styles %}
<style>
    .panel {
        --bulma-panel-heading-padding: 0.5em 0.75em;
        --bulma-shadow: none;
        --bulma-panel-heading-size: 1em;
        border: var(--bulma-panel-item-border);
        --bulma-panel-heading-weight: 400;

        overflow: hidden;

    }

    /* .select select {
    --bulma-scheme-main: hsl(var(--bulma-scheme-h), 5%, 30%);
    background-color: var(--bulma-scheme-main);
} */

    .readme {
        min-height: 16em;
        padding: 1em;
    }

    .navbar {
        margin-bottom: 2.5em;
    }

    .has-addons {
        --bulma-field-block-spacing: 0;
    }

    .last-commit {
        background: var(--bulma-panel-block-hover-background-color)
    }

    .has-text-ellipsis {
        display: -webkit-box;
        line-clamp: 1;
        -webkit-line-clamp: 1;
        /* Ajusta el número de líneas aquí */
        -webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .is-small {
        color: var(--bulma-text)
    }

    .panel-block.columns {
        margin: 0;
    }
</style>
{% endblock styles %}



{% block content %}
{% load repo_tags %}


<div class="container">
    
    <div class="columns">
        <div class="column">

            <div class="columns">
                <div class="column">
                    <div class="control has-icons-left">
                        <div class="control has-icons-left has-icons-right">
                            <input class="input" type="email" placeholder="commit">
                            <span class="icon is-left">
                                <i class="fas fa-search"></i>
                            </span>
                            <span class="icon is-right">
                                <i class="fas fa-code"></i>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="column is-narrow">
                    <div class="control has-icons-left">
                        <div class="select">
                            <select>
                                <option value="develop">Commiter</option>
                                <option value="develop">Fecha de creacion</option>
                            </select>
                        </div>
                        <div class="icon is-small is-left">
                            <i class="fas fa-sort"></i>
                        </div>
                    </div>
                </div>
            </div>



            {% for commits in commits_list %}
                <nav class="panel">
                    
                    <a class="panel-block is-active last-commit ">
                        
                        <div class="level is-full">
                            <div class="level-left">
                                <span class="has-text-weight-bold">{{ commits.commits|length}} commits</span>
                            </div>
                            <div class="level-center">
                                <span class="has-text-ellipsis">{{ commits.date|branch_date}}</span>
                            </div>
                        </div>

                    </a>

                    {% for commit in commits.commits %}
                    
                    
                        <a href="#" class="panel-block columns">
                            <div class="is-flex is-flex-direction-column is-align-items-self-start">
                                <span class="has-text-weight-bold has-text-primary">{{ commit.commiter }}</span>
                                
                                <span>{{ commit.message }}</span>
                                <span class="tag is-dark">{{ commit.hash }}</span>
                            </div>
                        </a>
                    {% endfor %}
                </nav>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock content %}

